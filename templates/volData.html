<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=0.8, minimum-scale=0.5, maximum-scale=0.8, user-scalable=yes" />

    <script src="../static/js/jquery.js"></script>
    <script src="../static/js/WaveCtrl.js"></script>

    <link href="../static/css/autoSimSystem.css" rel="stylesheet">

    <style>

        table {
            height: 100%;
            width: 100%;
            text-align: center;
        }


    </style>
</head>
<body>

<div class="contianer">
    <div class="nav-area">
        <ul class="nav">
            <li><a href="index.html"><img src="../static/images/nav_icon1_normal.png">故障设置</a></li>
            <li  class="active"><a href="volData.html"><img src="../static/images/nav_icon2_select.png">电压数据</a></li>
            <li><a href="waveData.html"><img src="../static/images/nav_icon3_normal.png">波形查看</a></li>
            <li><a href="setting.html"><img src="../static/images/nav_icon4_normal.png">系统信息</a></li>
        </ul>
    </div>


    <div class="content-area">
        <div class="table">
            <div class="header">
                <table border="0" cellspacing="0" cellpadding="0">
                    <tr><th>故障号</th><th>电压1(V)</th><th>电压2(V)</th></tr>
                </table>
            </div>

            <div class="data">
                <table border="0" cellspacing="0" cellpadding="0">
                    <tr id="issue0"><td>质量空气流量加热电源线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue1"><td>质量空气流量加热信号线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue2"><td>进气温度传感器信号线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue3"><td>加热型氧传感器2信号线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue4"><td>加热型氧传感器1信号线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue5"><td>进气凸轮轴位置传感器信号线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue6"><td>排气凸轮轴位置传感器信号线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue7"><td>油门踏板位置传感器1电源线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue8"><td>油门踏板位置传感器2电源线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue9"><td>加热型氧传感器2加热丝电源线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue10"><td>加热型氧传感器1加热丝电源线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue11"><td>进气凸轮轴位置传感器电源线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue12"><td>进气凸轮轴位置传感器接地线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue13"><td>排气凸轮轴位置传感器电源线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue14"><td>排气凸轮轴位置传感器接地线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue15"><td>质量空气流量加热接地线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue16"><td>进气温度传感器接地线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue17"><td>蒸发排放碳罐吹洗电磁阀电源线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue18"><td>蒸发排放碳罐吹洗电磁阀接地线</td><td>00.00</td><td>12.56</td></tr>
                    <tr id="issue19"><td>故障19</td><td>00.00</td><td>12.56</td></tr>

                </table>
            </div>


        </div>


    </div>
</div>


<script type="text/javascript">

    $(document).ready(function() {
        var host = 'ws://'+window.location.host+':8000/service/volPush.py';
//        var host = 'ws://192.168.10.175:8000/service/volPush.py';
        var websocket = new WebSocket(host);
        websocket.onopen = function (evt) { };
        websocket.onmessage = function(evt) {
            var data =  eval('(' + evt.data + ')');
            for (i in data.vol) {
                ch = data.vol[i]
                for (j in ch) {
                    $("#issue" + j).children().eq(parseInt(i)+1).html(parseInt(ch[j])/1000);
                }

            }
        };
        websocket.onerror = function (evt) { };
    });
</script>

</body>
</html>
